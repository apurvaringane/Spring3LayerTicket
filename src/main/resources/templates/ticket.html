<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Spring Ticket Application</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</head>
<body>




<div class="container">
  <table class="table table-info">
    <thead>
    <tr>
      <th scope="col">TICKET REFERENCE</th>
<!--      <th>EVENT NAME</th>-->
<!--      <th>EVENT TYPE</th>-->
<!--      <th>EVENT DATE</th>-->
<!--      <th>AVAILABLE TICKET</th>-->
<!--      <th>EVENT LOCATION</th>-->
      <th scope="col">ACTION</th>
    </tr>
    </thead>

    <tbody>
    <tr th:each="t:${tickets}">
      <td th:text="${t.ticketRef}"></td>
<!--      <td th:text="${t.eventName}"></td>-->
<!--      <td th:text="${t.eventType}"></td>-->
<!--      <td th:text="${t.date}"></td>-->
<!--      <td th:text="${t.availableTicket}"></td>-->
<!--      <td th:text="${t.eventLocation}"></td>-->
      <td>
        <a th:href="@{/update/{ticketRef}(ticketRef=${t.ticketRef})}"><button class="btn btn-warning">UPDATE</button></a>
        <a th:href="@{/delete/{ticketRef}(ticketRef=${t.ticketRef})}"><button class="btn btn-danger">DELETE</button></a>
<!--        <a href="viewticket"><button class="btn btn-primary">VIEW</button></a>-->
        <button type="button" class="btn btn-success" id="view" data-bs-toggle="modal" th:data-bs-target="|#userModal${t.ticketRef}|">
          View
        </button>
        <div class="modal fade" th:id="|userModal${t.ticketRef}|" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"  >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Ticket Information</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <b>Ticket Ref:</b> <span th:text="${t.ticketRef}"></span></br>
                  <b>Event Name:</b> <span th:text="${t.eventName}"></span></br>
                  <b>Event Type:</b> <span th:text="${t.eventType}"></span></br>
                <b>Event Date:</b> <span th:text="${t.date}"></span></br>
                <b>Available Ticket:</b> <span th:text="${t.availableTicket}"></span></br>
                  <b>Event Location:</b> <span th:text="${t.eventLocation}"></span></br>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
</div>
</body>
</html>